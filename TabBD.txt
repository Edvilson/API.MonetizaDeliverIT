
-- Base de dados utilizada PostgresSQL
-- Nome da base monetiza

CREATE TABLE FIS_CPAGAR(
	CODCPAGAR		 	INTEGER NOT NULL,
	DSCNOME             VARCHAR(55),
    DSCCONTA         	VARCHAR(55), 
    DATACOMPRA       	VARCHAR(20), 
	DATAVENCIMENTO   	VARCHAR(20),
    VALORORIGINAL    	NUMERIC(11,2),
	DATAPAGAMENTO    	VARCHAR(20),
	DIASATRASO       	INTEGER,
	PERCMULTAATRASO  	NUMERIC(6,1), 
    VALORMULTAATRASO 	NUMERIC(11,2), 
    PERCJUROSDIA     	NUMERIC(6,1),
	VALORJUROSDIA    	NUMERIC(11,2),
	VALORCORRIGIDO   	NUMERIC(11,2)
) WITH OIDS;

COMMENT ON COLUMN FIS_CPAGAR.CODCPAGAR 				IS 'Salvar o código da conta a pagar';
COMMENT ON COLUMN FIS_CPAGAR.DSCNOME		 		IS 'Salvar o nome do cliente';
COMMENT ON COLUMN FIS_CPAGAR.DSCCONTA	 			IS 'Salvar a descrição da conta';
COMMENT ON COLUMN FIS_CPAGAR.DATACOMPRA 			IS 'Salvar a data da conta';
COMMENT ON COLUMN FIS_CPAGAR.DATAVENCIMENTO			IS 'Salvar a data do vencimento da conta';
COMMENT ON COLUMN FIS_CPAGAR.VALORORIGINAL			IS 'Salvar o valor original da conta';
COMMENT ON COLUMN FIS_CPAGAR.DATAPAGAMENTO          IS 'Salvar a data do pagamento';
COMMENT ON COLUMN FIS_CPAGAR.DIASATRASO 			IS 'Salvar o número de dias em atraso do pagamento da conta';
COMMENT ON COLUMN FIS_CPAGAR.PERCMULTAATRASO		IS 'Salvar o percentual da multa referente os dias em atraso (até 3 dias: 2% / de 3 a 5 dias: 3% / superior a 5 dias: 5%)';
COMMENT ON COLUMN FIS_CPAGAR.VALORMULTAATRASO		IS 'Salvar o valor da multa calculado sobre os dias em atraso';
COMMENT ON COLUMN FIS_CPAGAR.PERCJUROSDIA 			IS 'Salvar o percentual de juros por dia referente aos dias em atraso (até 3 dias: 0,1% / de 3 a 5 dias: 0,2% / superior a 5 dias: 0,3%)';
COMMENT ON COLUMN FIS_CPAGAR.VALORJUROSDIA			IS 'Salvar o valor dos juros por dia sobre os dias em atraso';
COMMENT ON COLUMN FIS_CPAGAR.VALORCORRIGIDO			IS 'Salvar o valor corrigido considerando (VALORORIGINAL + VALORMULTAATRASO + VALORJUROSDIA)';

CREATE SEQUENCE FIS_CPAGAR_CODCPAGAR_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 999999999 START 1 CACHE 1;
ALTER TABLE FIS_CPAGAR ALTER COLUMN CODCPAGAR SET DEFAULT NEXTVAL('FIS_CPAGAR_CODCPAGAR_SEQ'::regclass);


CREATE TABLE PES_USUARIO(
	CODUSUARIO		 	INTEGER NOT NULL,
	DSCNOME             VARCHAR(55),
    DSCSENHA          	VARCHAR(55),
	DSCFUNCAO           VARCHAR(30)
) WITH OIDS;

COMMENT ON COLUMN PES_USUARIO.CODUSUARIO 			IS 'Salvar o código do usuário';
COMMENT ON COLUMN PES_USUARIO.DSCNOME		 		IS 'Salvar o nome do usuário';
COMMENT ON COLUMN PES_USUARIO.DSCSENHA	 			IS 'Salvar a senha do usuário';
COMMENT ON COLUMN PES_USUARIO.DSCFUNCAO	 			IS 'Salvar a função do usuário';

CREATE SEQUENCE PES_USUARIO_CODUSUARIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 999999999 START 1 CACHE 1;
ALTER TABLE PES_USUARIO ALTER COLUMN CODUSUARIO SET DEFAULT NEXTVAL('PES_USUARIO_CODUSUARIO_SEQ'::regclass);
